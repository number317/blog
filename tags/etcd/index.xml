<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Etcd on cheon's blog</title><link>https://number317.github.io/blog/tags/etcd/</link><description>Recent content in Etcd on cheon's blog</description><generator>Hugo</generator><language>en</language><lastBuildDate>Tue, 17 Dec 2024 19:51:41 +0800</lastBuildDate><atom:link href="https://number317.github.io/blog/tags/etcd/index.xml" rel="self" type="application/rss+xml"/><item><title>Etcd &amp; Flannel</title><link>https://number317.github.io/blog/struct/etcd_and_flannel/</link><pubDate>Wed, 01 Nov 2017 17:58:29 +0800</pubDate><guid>https://number317.github.io/blog/struct/etcd_and_flannel/</guid><description>&lt;h1 id="etcd--flannel-实现跨主机容器通信"&gt;etcd &amp;amp; flannel 实现跨主机容器通信&lt;/h1&gt;
&lt;h2 id="准备工作"&gt;准备工作&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;测试环境：vagrant + centos7.2 虚拟机&lt;/li&gt;
&lt;li&gt;主机说明：
&lt;ul&gt;
&lt;li&gt;ip: &lt;code&gt;192.168.12.101&lt;/code&gt; hostname: &lt;code&gt;node1&lt;/code&gt; 安装软件：etcd, flannel, docker&lt;/li&gt;
&lt;li&gt;ip: &lt;code&gt;192.168.12.102&lt;/code&gt; hostname: &lt;code&gt;node2&lt;/code&gt; 安装软件：flannel, docker&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="启动虚拟机"&gt;启动虚拟机&lt;/h2&gt;
&lt;p&gt;vagrant配置文件：&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;Vagrantfile&lt;/summary&gt;


&lt;div class="code-block code-block-container-indented"&gt;
 &lt;pre&gt;&lt;code id="code-79bc2db050898cf217e1170ae6fe9ae4"&gt;# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure(2) do |config|

 (1..2).each do |i|
 config.vm.define &amp;#34;node#{i}&amp;#34; do |s|
 s.vm.box = &amp;#34;bento/centos-7.2&amp;#34;
 s.vm.hostname = &amp;#34;node#{i}&amp;#34;
 n = 100 &amp;#43; i
 s.vm.network &amp;#34;private_network&amp;#34;, ip: &amp;#34;192.168.12.#{n}&amp;#34;
 s.ssh.username = &amp;#34;vagrant&amp;#34;
 s.ssh.password = &amp;#34;vagrant&amp;#34;
 s.ssh.insert_key = false
 s.vm.provider &amp;#34;virtualbox&amp;#34; do |v|
 v.name = &amp;#34;node#{i}&amp;#34;
 v.cpus = 1
 v.memory = 1024
 end
 end
 end
end&lt;/code&gt;&lt;/pre&gt;
 &lt;button class="copy-code-button" onclick="copyCode('code-79bc2db050898cf217e1170ae6fe9ae4', this)" title="copy"&gt;
 &lt;i class="fa fa-copy"&gt;&lt;/i&gt;
 &lt;/button&gt;
&lt;/div&gt;

&lt;/details&gt;
&lt;p&gt;在该配置文件的目录下执行&lt;code&gt;vagrant up&lt;/code&gt;启动两台测试用虚拟机&lt;/p&gt;</description></item></channel></rss>