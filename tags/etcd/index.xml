<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Etcd on cheon's blog</title><link>https://number317.github.io/blog/tags/etcd/</link><description>Recent content in Etcd on cheon's blog</description><generator>Hugo</generator><language>en</language><lastBuildDate>Tue, 17 Dec 2024 19:51:41 +0800</lastBuildDate><atom:link href="https://number317.github.io/blog/tags/etcd/index.xml" rel="self" type="application/rss+xml"/><item><title>Etcd &amp; Flannel</title><link>https://number317.github.io/blog/struct/etcd_and_flannel/</link><pubDate>Wed, 01 Nov 2017 17:58:29 +0800</pubDate><guid>https://number317.github.io/blog/struct/etcd_and_flannel/</guid><description>&lt;h1 id="etcd--flannel-实现跨主机容器通信">etcd &amp;amp; flannel 实现跨主机容器通信&lt;/h1>
&lt;h2 id="准备工作">准备工作&lt;/h2>
&lt;ol>
&lt;li>测试环境：vagrant + centos7.2 虚拟机&lt;/li>
&lt;li>主机说明：
&lt;ul>
&lt;li>ip: &lt;code>192.168.12.101&lt;/code> hostname: &lt;code>node1&lt;/code> 安装软件：etcd, flannel, docker&lt;/li>
&lt;li>ip: &lt;code>192.168.12.102&lt;/code> hostname: &lt;code>node2&lt;/code> 安装软件：flannel, docker&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="启动虚拟机">启动虚拟机&lt;/h2>
&lt;p>vagrant配置文件：&lt;/p>
&lt;details>
&lt;summary>Vagrantfile&lt;/summary>


&lt;div class="code-block code-block-container-indented">
 &lt;pre>&lt;code id="code-79bc2db050898cf217e1170ae6fe9ae4"># -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure(2) do |config|

 (1..2).each do |i|
 config.vm.define &amp;#34;node#{i}&amp;#34; do |s|
 s.vm.box = &amp;#34;bento/centos-7.2&amp;#34;
 s.vm.hostname = &amp;#34;node#{i}&amp;#34;
 n = 100 &amp;#43; i
 s.vm.network &amp;#34;private_network&amp;#34;, ip: &amp;#34;192.168.12.#{n}&amp;#34;
 s.ssh.username = &amp;#34;vagrant&amp;#34;
 s.ssh.password = &amp;#34;vagrant&amp;#34;
 s.ssh.insert_key = false
 s.vm.provider &amp;#34;virtualbox&amp;#34; do |v|
 v.name = &amp;#34;node#{i}&amp;#34;
 v.cpus = 1
 v.memory = 1024
 end
 end
 end
end&lt;/code>&lt;/pre>
 &lt;button class="copy-code-button" onclick="copyCode('code-79bc2db050898cf217e1170ae6fe9ae4', this)" title="copy">
 &lt;i class="fa fa-copy">&lt;/i>
 &lt;/button>
&lt;/div>

&lt;/details>
&lt;p>在该配置文件的目录下执行&lt;code>vagrant up&lt;/code>启动两台测试用虚拟机&lt;/p></description></item></channel></rss>