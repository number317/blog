<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Archlinux on cheon's blog</title><link>https://number317.github.io/blog/tags/archlinux/</link><description>Recent content in Archlinux on cheon's blog</description><generator>Hugo</generator><language>en</language><lastBuildDate>Tue, 17 Dec 2024 19:51:41 +0800</lastBuildDate><atom:link href="https://number317.github.io/blog/tags/archlinux/index.xml" rel="self" type="application/rss+xml"/><item><title>Dell Xps 15 9560 Arch Linux Install</title><link>https://number317.github.io/blog/system/dell_xps_15_9560_arch_linux_install/</link><pubDate>Wed, 28 Mar 2018 10:18:12 +0800</pubDate><guid>https://number317.github.io/blog/system/dell_xps_15_9560_arch_linux_install/</guid><description>&lt;h1 id="dell-xps-15-9560-arch-linux-安装教程"&gt;Dell XPS 15 9560 Arch Linux 安装教程&lt;/h1&gt;
&lt;h2 id="bios设置"&gt;BIOS设置&lt;/h2&gt;
&lt;p&gt;打开电脑，等待出现dell图标时按下&lt;code&gt;F12&lt;/code&gt;键，选择进入BIOS设置页面，进行如下操作&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将&lt;code&gt;SATA Mode&lt;/code&gt;从默认的&lt;code&gt;RAID&lt;/code&gt;模式修改为&lt;code&gt;AHCI&lt;/code&gt;模式。这样可以允许Linux检测到&lt;code&gt;NVME SSD&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;将&lt;code&gt;Fastboot&lt;/code&gt;的选项从&lt;code&gt;POST Behaviour&lt;/code&gt;修改为&lt;code&gt;Thorough&lt;/code&gt;，这样可以防止偶尔的启动错误。&lt;/li&gt;
&lt;li&gt;关闭安全启动来允许linux启动。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;保存后退出，会重启电脑。&lt;/p&gt;
&lt;h2 id="内核启动参数设置"&gt;内核启动参数设置&lt;/h2&gt;
&lt;p&gt;从U盘启动 Arch Linux 引导镜像：在dell图标出现时按下&lt;code&gt;F12&lt;/code&gt;，选择从U盘启动，在出现启动菜单时，按下&lt;code&gt;e&lt;/code&gt;键，添加以下启动参数：&lt;/p&gt;


&lt;div class="code-block code-block-container-indented"&gt;
 &lt;pre&gt;&lt;code id="code-4dfc81a5b3bb7f51052eb4880900dbf2"&gt;initrd=\initramfs-linux.img root=/dev/sdb2 acpi_rev_override=1 pci=nommconf nouveau.modeset=0&lt;/code&gt;&lt;/pre&gt;
 &lt;button class="copy-code-button" onclick="copyCode('code-4dfc81a5b3bb7f51052eb4880900dbf2', this)" title="copy"&gt;
 &lt;i class="fa fa-copy"&gt;&lt;/i&gt;
 &lt;/button&gt;
&lt;/div&gt;

&lt;p&gt;这样可以保证系统可以正常关闭和重启，否则关闭和重启时电脑会死机。&lt;/p&gt;
&lt;h2 id="系统安装"&gt;系统安装&lt;/h2&gt;
&lt;h3 id="tty字体设置"&gt;tty字体设置&lt;/h3&gt;
&lt;p&gt;首先由于4k屏的高分辨率，使得终端字体非常小，应该设置大一点的字体：&lt;/p&gt;


&lt;div class="code-block code-block-container-indented"&gt;
 &lt;pre&gt;&lt;code id="code-76777c0980dd284227a1a9fbe2a10c06"&gt;setfont latarcyrheb-sun32&lt;/code&gt;&lt;/pre&gt;
 &lt;button class="copy-code-button" onclick="copyCode('code-76777c0980dd284227a1a9fbe2a10c06', this)" title="copy"&gt;
 &lt;i class="fa fa-copy"&gt;&lt;/i&gt;
 &lt;/button&gt;
&lt;/div&gt;

&lt;h3 id="网络连接"&gt;网络连接&lt;/h3&gt;


&lt;div class="code-block code-block-container-indented"&gt;
 &lt;pre&gt;&lt;code id="code-010cfe9793d5445cb7d139f2aaffc898"&gt;wifi-menu&lt;/code&gt;&lt;/pre&gt;
 &lt;button class="copy-code-button" onclick="copyCode('code-010cfe9793d5445cb7d139f2aaffc898', this)" title="copy"&gt;
 &lt;i class="fa fa-copy"&gt;&lt;/i&gt;
 &lt;/button&gt;
&lt;/div&gt;

&lt;p&gt;根据提示选择wifi，输入密码即可。&lt;/p&gt;
&lt;h3 id="分区"&gt;分区&lt;/h3&gt;
&lt;p&gt;这里采用lvm并使用cryptsetup来加密磁盘，最终分区如下：&lt;/p&gt;


&lt;div class="code-block code-block-container-indented"&gt;
 &lt;pre&gt;&lt;code id="code-ff6d9cbbf901bd0d8191360bf156daeb"&gt;NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
nvme0n1 259:0 0 477G 0 disk 
├─nvme0n1p1 259:1 0 512M 0 part /boot
└─nvme0n1p2 259:2 0 476.4G 0 part 
 └─luks 254:0 0 476.4G 0 crypt 
 ├─entropy--vg0-root 254:1 0 150G 0 lvm /
 ├─entropy--vg0-home 254:2 0 250G 0 lvm /home
 ├─entropy--vg0-swap 254:3 0 16G 0 lvm [SWAP]
 └─entropy--vg0-backup 254:4 0 10G 0 lvm &lt;/code&gt;&lt;/pre&gt;
 &lt;button class="copy-code-button" onclick="copyCode('code-ff6d9cbbf901bd0d8191360bf156daeb', this)" title="copy"&gt;
 &lt;i class="fa fa-copy"&gt;&lt;/i&gt;
 &lt;/button&gt;
&lt;/div&gt;

&lt;p&gt;磁盘创建两个分区，一个分区用于&lt;code&gt;/boot&lt;/code&gt;，另一个分区用于安装系统。&lt;/p&gt;</description></item></channel></rss>