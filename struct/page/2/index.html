<!doctype html><html><head><meta charset=utf-8><meta name=description content="Aloha! Welcome to cheon's blog."><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=76x76 href=https://number317.github.io/blog/img/apple-touch-icon.png><link rel=icon href=https://number317.github.io/blog/img/pen.svg><link rel=stylesheet href=https://number317.github.io/blog/css/global.css><link rel=stylesheet href=https://number317.github.io/blog/css/nav.css><link rel=stylesheet href=https://number317.github.io/blog/css/header.css><link rel=stylesheet href=https://number317.github.io/blog/css/index.css><link rel=stylesheet href=https://number317.github.io/blog/css/list.css><link rel=stylesheet href=https://number317.github.io/blog/css/single.css><link rel=stylesheet href=https://number317.github.io/blog/css/footer.css><link href="https://fonts.googleapis.com/css?family=Fira+Mono|Noto+Sans+SC|Old+Standard+TT&display=swap" rel=stylesheet><link href=https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><title>cheon's blog</title></head><body><section id=header><ul id=menus><li class=menu><a href=https://number317.github.io><span>Home</span></a></li><li class=menu><a href=https://number317.github.io/blog/categories><span>Categories</span></a></li><li class=menu><a href=https://number317.github.io/blog/tags><span>Tags</span></a></li><li class=menu><a href=https://github.com/number317><span>Projects</span></a></li></ul><h1 id=title><a href=https://number317.github.io/blog/>cheon's blog</a></h1></section><ul id=nav><li>»
<a href=https://number317.github.io/blog/>cheon's blog</a></li><li class=active>»
<a href=https://number317.github.io/blog/struct/>struct</a></li></ul><div id=content><main><article><header><h2>Knowledge is infinite</h2></header><p>I&rsquo;m fine orz</p></article><ul id=articles><li class=article><h3><a href=https://number317.github.io/blog/struct/glusterfs_deploy/><span><font class=date>Jan 2018</font> | Glusterfs Deploy</span></a></h3><p>glusterfs centos 部署 GlusterFS是一个开源的分布式文件系统，这里部署它主要为了解决文件存储的单点问题。
虚拟机配置 此处采用vagrant部署centos的虚拟机三台，box可以采用bento/centos7.2，配置文件如下：
Vagrant.configure(&amp;#34</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/fluentd_config/><span><font class=date>Jan 2018</font> | Fluentd Config</span></a></h3><p>命令列表 Fluentd配置文件由以下配置文件组成：
source命令 指明数据输入源 match命令 指明数据输出源 filter命令 指明事件处理的管道 system命令 指明系统级别配置 label命令 为输出分组并过滤内部路由 include命令 包含其他文件 命令详解 source: 数据</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/k8s_cluster_deploy/><span><font class=date>Dec 2017</font> | K8s Cluster Deploy</span></a></h3><p>vagrant kubernetes 集群部署 集群说明 集群共有四个节点，一个master节点，四个子节点，其中一个节点即是master节点，也是node节点，系统均为centos-7.2。
k8s-node1 192.168.12.81 master, node k8s-node2 192.16</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/maven_nexus/><span><font class=date>Nov 2017</font> | Maven & Nexus</span></a></h3><p>maven 配置使用 nexus 私服 修改~/.m2/settings.xml内容如下：
mvn config &amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt; &amp;lt;settings xmlns=&amp;#34;http://m</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/etcd_and_flannel/><span><font class=date>Nov 2017</font> | Etcd & Flannel</span></a></h3><p>etcd &amp;amp; flannel 实现跨主机容器通信 准备工作 测试环境：vagrant + centos7.2 虚拟机 主机说明： ip: 192.168.12.101 hostname: node1 安装软件：etcd, flannel, docker ip: 192.168.12.102</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/rabbitmq_access_control/><span><font class=date>Oct 2017</font> | Rabbitmq Access Control</span></a></h3><p>Rabbitmq 权限控制 在rabbitmq中，身份验证和授权是分开的。身份验证用于判断用户是谁，授权用于确定用户能做什么和不能做什么。
默认虚拟主机和用户 当服务第一次启动或者检测到数据库梅雨初始化或已经被删除，rabbitmq会初始化一个新的数据库，拥有如下资源：
一个虚拟主机/ 一个用户名和</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/rabbitmq_topic/><span><font class=date>Oct 2017</font> | Rabbitmq Topic</span></a></h3><p>rabbitmq 主题 虽然之前使用了direct交换来路由不同级别的日志，但是它无法做到根据设备来路由。在我们的日志系统中，可能不止是想要通过日志级别来订阅，还想通过日志来源订阅。这将会给我们带来更大的灵活性，比如我们可以只监听来自cron的error和来自kern的所有日志。为了达到这个效果，我</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/rabbitmq_routing/><span><font class=date>Oct 2017</font> | Rabbitmq Routing</span></a></h3><p>Rabbitmq 路由 这里我们将为日志系统增加一个特性&amp;ndash;只订阅一部分信息。例如，我们可以将错误信息存入日志文件，将其他信息打印出来。
绑定（Bindings） 在日志系统中我们已经使用过绑定，像这样调用代码：
channel.queue_bind( exchange=exchange_</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/rabbitmq_publish_subscribe/><span><font class=date>Oct 2017</font> | Rabbitmq Publish Subscribe</span></a></h3><p>Publish Subcribe 发布和订阅模式简单而言就是将一个消息发送个多个消费者。为了阐明这个模式，这里将会构建一个简单的日志系统，这个系统由两部分组成，第一个程序发送消息，第二个程序接收和打印消息。
在该日志系统中，接收程序的每一个运行副本都将得到消息，这样我们可以运行一个接收器，并将日志存</p></li><li class=article><h3><a href=https://number317.github.io/blog/struct/rabbitmq_work_queue/><span><font class=date>Oct 2017</font> | Rabbitmq Work Queue</span></a></h3><p>Work Queue 工作队列背后的思想是尽量避免立即做资源密集型任务并等待它完成，而是将这些任务放到计划表中，等会儿完成。我们将一个任务封装为一条信息并把它送入一个队列。一个在后台运行的进程将会弹出这些任务并最终执行这个工作。当你运行很多个进程时，任务将会被他们共享。这个概念在web应用中尤为有用</p></li></ul></main></div><section id=footer><ul class="pagination pagination-default"><li class=page-item><a href=https://number317.github.io/blog/struct/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=https://number317.github.io/blog/struct/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=https://number317.github.io/blog/struct/ aria-label="Page 1" class=page-link role=button>1</a></li><li class="page-item active"><a aria-current=page aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=https://number317.github.io/blog/struct/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=https://number317.github.io/blog/struct/page/3/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=https://number317.github.io/blog/struct/page/3/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul><div id=author><h2>About Author</h2><hr><img src=https://number317.github.io/images/author.jpg></img><p>Life is dance we all have to do.</p></div><ul id=link><li><a href=https://github.com/number317/aloha.git target=_blank><i class="fa fa-github" alt=github></i></a></li><li><a href="mailto:cheon0112358d@gmail.com?subject=blog%27s%20feedback" target=_blank><i class="fa fa-envelope" alt=email></i></a></li><li id=wechat><i class="fa fa-wechat"></i></li><img class=qrcode src=https://number317.github.io/images/wechat.jpg></ul></section></body></html>